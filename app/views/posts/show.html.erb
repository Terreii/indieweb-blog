<article itemscope="" itemtype="http://schema.org/BlogPosting">
  <h1 class="post__title" itemprop="name headline"><%= set_title(@post.title) %></h1>

  <p class="post__meta">
    <% if @post.published? %>
      By <%= link_to t("general.author-full"), root_url, class: "p-author h-card" %> on
      <time datetime="<%= @post.published_at.iso8601 %>" itemprop="dateCreated pubdate datePublished">
        <%= @post.published_at.to_date.to_s %>
      </time>
    <% end %>

    <% if logged_in? %>
      <%= link_to 'Edit', edit_post_path(@post), class: 'post__edit-link' %>
    <% end %>

    <% unless @post.tags.empty? %>
      <br />
      <span itemprop="tags">
        Tags:
        <% @post.tags.each do |tag| %>
          <%= link_to tag.name, tag %><% unless tag == @post.tags.last %>, <% end %>
        <% end %>
      </span>
    <% end %>
  </p>

  <div itemprop="articleBody">
    <%= @post.body %>
  </div>
</article>
